<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Separador de PDF - Turtle Convert</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/pdf.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../index.html" class="back-btn">‚Üê Volver al Home</a>
            <h1><span>üê¢</span> Separador de PDF</h1>
            <p>Separa tu PDF en p√°ginas individuales y n√≥mbralas como quieras</p>
            <div class="file-limit">L√≠mite: 50MB por archivo</div>
        </div>

        <div class="main-content">
            <!-- Zona de archivo -->
            <div class="drop-zone" id="dropZone">
                <div class="file-icon">üìÑ</div>
                <h3>Arrastra tu PDF aqu√≠</h3>
                <p>Selecciona un archivo PDF para separar sus p√°ginas</p>
                <button class="browse-btn" id="browseBtn">Seleccionar PDF</button>
                <input type="file" id="fileInput" style="display: none;" accept=".pdf">
            </div>

            <!-- Vista previa del PDF -->
            <div class="pdf-preview-section" id="pdfPreviewSection" style="display: none;">
                <h3>Vista previa del PDF</h3>
                <div class="pdf-info" id="pdfInfo">
                    <div class="pdf-meta">
                        <span id="fileName">Nombre: -</span>
                        <span id="fileSize">Tama√±o: -</span>
                        <span id="pageCount">P√°ginas: -</span>
                    </div>
                </div>
                <div class="pdf-preview-container">
                    <div class="pdf-pages" id="pdfPages">
                        <!-- Las p√°ginas del PDF se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n de nombres -->
            <div class="naming-section" id="namingSection" style="display: none;">
                <h3>Configura los nombres de las p√°ginas</h3>
                <div class="naming-options">
                    <div class="naming-option">
                        <input type="radio" id="autoNaming" name="namingType" value="auto" checked>
                        <label for="autoNaming">Nombrado autom√°tico (P√°gina 1, P√°gina 2...)</label>
                    </div>
                    <div class="naming-option">
                        <input type="radio" id="manualNaming" name="namingType" value="manual">
                        <label for="manualNaming">Nombrado manual</label>
                    </div>
                </div>
                
                <div class="manual-naming" id="manualNamingSection" style="display: none;">
                    <h4>Nombres personalizados:</h4>
                    <div class="page-names-container" id="pageNamesContainer">
                        <!-- Los inputs para nombres manuales se generar√°n aqu√≠ -->
                    </div>
                </div>
            </div>

            <!-- Progreso -->
            <div class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-info">
                    <span>Procesando p√°ginas...</span>
                    <span id="progressText">0/0</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>

            <!-- Botones de acci√≥n -->
            <div class="action-buttons">
                <button class="action-btn process-btn" id="processBtn" disabled>Separar P√°ginas</button>
                <button class="action-btn reset-btn" id="resetBtn">Reiniciar</button>
            </div>

            <!-- Resultados -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <h3>P√°ginas separadas</h3>
                <div class="download-options">
                    <button class="download-btn" id="downloadAllBtn">üì• Descargar Todas las P√°ginas</button>
                    <button class="download-btn secondary" id="downloadZipBtn">üì¶ Descargar como ZIP</button>
                </div>
                <div class="pages-grid" id="pagesGrid">
                    <!-- Las p√°ginas procesadas se mostrar√°n aqu√≠ -->
                </div>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2024 Turtle Convert</p>
        </div>
    </div>

    <!-- Modal para vista previa de p√°gina -->
    <div class="page-modal" id="pageModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-body">
                <img id="modalImage" src="" alt="Vista previa de p√°gina">
                <div class="modal-info" id="modalInfo"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="../js/pdf.js"></script>
</body>
</html>