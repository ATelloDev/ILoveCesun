<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extractor de Im√°genes de PDF - Turtle Convert</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/pdf.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="../index.html" class="back-btn">‚Üê Volver al Home</a>
            <h1><span>üê¢</span> Extractor de Im√°genes de PDF</h1>
            <p>Extrae todas las im√°genes de tu archivo PDF en la mejor calidad posible</p>
            <div class="file-limit">L√≠mite: 50MB por archivo</div>
        </div>

        <div class="main-content">
            <!-- Zona de archivo -->
            <div class="drop-zone" id="dropZone">
                <div class="file-icon">üñºÔ∏è</div>
                <h3>Arrastra tu PDF aqu√≠</h3>
                <p>Selecciona un archivo PDF para extraer sus im√°genes</p>
                <button class="browse-btn" id="browseBtn">Seleccionar PDF</button>
                <input type="file" id="fileInput" style="display: none;" accept=".pdf">
            </div>

            <!-- Vista previa del PDF -->
            <div class="pdf-preview-section" id="pdfPreviewSection" style="display: none;">
                <h3>Vista previa del PDF</h3>
                <div class="pdf-info" id="pdfInfo">
                    <div class="pdf-meta">
                        <span id="fileName">Nombre: -</span>
                        <span id="fileSize">Tama√±o: -</span>
                        <span id="pageCount">P√°ginas: -</span>
                    </div>
                </div>
                <div class="pdf-preview-container">
                    <div class="pdf-pages" id="pdfPages">
                        <!-- Las p√°ginas del PDF se mostrar√°n aqu√≠ -->
                    </div>
                </div>
            </div>

            <!-- Configuraci√≥n de extracci√≥n -->
            <div class="naming-section" id="namingSection" style="display: none;">
                <h3>Configuraci√≥n de extracci√≥n</h3>
                <div class="naming-options">
                    <div class="naming-option">
                        <input type="checkbox" id="extractAll" name="extractAll" checked>
                        <label for="extractAll">Extraer todas las im√°genes del PDF</label>
                    </div>
                    <div class="naming-option">
                        <label for="imageFormat">Formato de salida:</label>
                        <select id="imageFormat" name="imageFormat">
                            <option value="png">PNG (Calidad m√°xima)</option>
                            <option value="jpeg">JPEG (Tama√±o reducido)</option>
                            <option value="webp">WebP (Equilibrado)</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Progreso -->
            <div class="progress-section" id="progressSection" style="display: none;">
                <div class="progress-info">
                    <span>Extrayendo im√°genes...</span>
                    <span id="progressText">0/0</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
            </div>

            <!-- Botones de acci√≥n -->
            <div class="action-buttons">
                <button class="action-btn process-btn" id="processBtn" disabled>Extraer Im√°genes</button>
                <button class="action-btn reset-btn" id="resetBtn">Reiniciar</button>
            </div>

            <!-- Resultados -->
            <div class="results-section" id="resultsSection" style="display: none;">
                <h3>Im√°genes extra√≠das</h3>
                <div class="download-options">
                    <button class="download-btn" id="downloadAllBtn">üì• Descargar Todas las Im√°genes</button>
                    <button class="download-btn secondary" id="downloadZipBtn">üì¶ Descargar como ZIP</button>
                </div>
                <div class="pages-grid" id="pagesGrid">
                    <!-- Las p√°ginas procesadas se mostrar√°n aqu√≠ -->
                </div>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2024 Turtle Convert</p>
        </div>
    </div>

    <!-- Modal para vista previa de p√°gina -->
    <div class="page-modal" id="pageModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-body">
                <img id="modalImage" src="" alt="Vista previa de p√°gina">
                <div class="modal-info" id="modalInfo"></div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="../js/pdf.js"></script>
</body>
</html>